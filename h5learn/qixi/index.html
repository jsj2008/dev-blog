<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <title>qixi</title>
    <script src="http://img.mukewang.com/down/55ac9a860001a6c500000000.js"></script>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/pageA.css">
    <script src="http://libs.baidu.com/jquery/1.9.1/jquery.min.js"></script>
    <script type="text/javascript" src="js/swipe.js"></script>
</head>
<style type="text/css">
	
</style>
<body>
    <div id='content'>
        <ul class='content-wrap'>
            <li>
            	<div class="a_background">
            		<div class="a_background_top"></div>
            		<div class="a_background_middle"></div>
            		<div class="a_background_bottom"></div>
            	</div>
            </li>
            <li>page2</li>
            <li>page3</li>
        </ul>
        <div id="boy" class="charector"></div>
        <div class="button">
            <button>开始</button>
            <button>暂停</button>
        </div>
    </div>
    <script type="text/javascript">
    	var swipe = swipe($("#content"));
    	var getValue = function(className) {
    		var $elem = $('' + className + '');
    		return {
    			height: $elem.height(),
    			top: $elem.position().top
    		};
    	};
    	var pathY = function() {
    		var data = getValue('.a_background_middle');
    		return data.top + data.height / 2;
    	}();
        var $boy = $("#boy");
        var boyHeight = $boy.height();
        $boy.css({
        	top: pathY - boyHeight + 25
        });

        $("button:first").click(function() {
            $boy.addClass('slowWalk').transition({
                'left': $("#content").width() + 'px',
            }, 10000);
        });

        // 暂停
        $("button:last").click(function() {
            var left = $boy.css('left');
            $boy.css('left',left);
            $boy.addClass('pauseWalk');
        });
    </script>
</body>
</html>